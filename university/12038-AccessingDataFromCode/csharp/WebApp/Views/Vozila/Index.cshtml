@using WebApp.Models
@model List<VozilaVM>

<div>
    <br />
    <h2>Pregled Vozila</h2>
    <table id="table_id" class="display table">
        <thead>
            <tr>
                <th>Marka - Tip</th>
                <th>Godina proizvodnje</th>
                <th>Pocetni km</th>
                <th>Trenutni km</th>
                <th>Uredi</th>
                <th>Obrisi</th>

            </tr>
        </thead>
        <tbody>
            @foreach (VozilaVM v in Model)
            {
                <tr>
                    <td>@v.vozilo.marka - @v.tip_vozila.tip</td>
                    <td>@v.vozilo.godina_proizvodnje</td>
                    <td>@v.vozilo.pocetni_km</td>
                    <td>@v.vozilo.trenutni_km</td>
                    <td><div onclick="window.location.href='@Url.Action("Vozilo", "Vozila", new { id = v.vozilo.id})'" class="button is-small is-success">Uredi</div></td>
                    <td>
                        <form name="f" method="post" action="/api/v1/vozilo/@v.vozilo.id">
                            <button type="submit" class="button is-danger is-small">Obrisi</button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
    <br />
    <div onclick="window.location.href= '@Url.Action("DodajVozilo", "Vozila")'" class="button is-small is-fullwidth is-primary">Dodaj novo vozilo</div>
</div>

<script>
    $(document).ready(function () {
        $('#table_id').DataTable();
    });
</script>